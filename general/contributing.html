
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <title>Contributing · Slate 中文文档</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.7.3">
        <meta name="author" content="mowangjuanzi">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../styles/website.css">
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="changelog.html" />
    
    
    <link rel="prev" href="resources.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    简介
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">演示</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../walkthroughs/01-installing-slate.html">
            
                <a href="../walkthroughs/01-installing-slate.html">
            
                    
                    安装 Slate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../walkthroughs/02-adding-event-handlers.html">
            
                <a href="../walkthroughs/02-adding-event-handlers.html">
            
                    
                    添加事件处理程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../walkthroughs/03-defining-custom-elements.html">
            
                <a href="../walkthroughs/03-defining-custom-elements.html">
            
                    
                    定义自定义元素
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../walkthroughs/04-applying-custom-formatting.html">
            
                <a href="../walkthroughs/04-applying-custom-formatting.html">
            
                    
                    应用自定义格式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="../walkthroughs/05-executing-commands.html">
            
                <a href="../walkthroughs/05-executing-commands.html">
            
                    
                    执行命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../walkthroughs/06-saving-to-a-database.html">
            
                <a href="../walkthroughs/06-saving-to-a-database.html">
            
                    
                    保存到数据库
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="../walkthroughs/xx-using-the-bundled-source.html">
            
                <a href="../walkthroughs/xx-using-the-bundled-source.html">
            
                    
                    使用已打包源
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">概念</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../concepts/01-interfaces.html">
            
                <a href="../concepts/01-interfaces.html">
            
                    
                    接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../concepts/02-nodes.html">
            
                <a href="../concepts/02-nodes.html">
            
                    
                    节点
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../concepts/03-locations.html">
            
                <a href="../concepts/03-locations.html">
            
                    
                    位置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../concepts/04-transforms.html">
            
                <a href="../concepts/04-transforms.html">
            
                    
                    转换
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../concepts/05-operations.html">
            
                <a href="../concepts/05-operations.html">
            
                    
                    操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../concepts/06-commands.html">
            
                <a href="../concepts/06-commands.html">
            
                    
                    命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../concepts/07-editor.html">
            
                <a href="../concepts/07-editor.html">
            
                    
                    Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="../concepts/08-plugins.html">
            
                <a href="../concepts/08-plugins.html">
            
                    
                    Plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="../concepts/09-rendering.html">
            
                <a href="../concepts/09-rendering.html">
            
                    
                    Rendering
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10" data-path="../concepts/10-serializing.html">
            
                <a href="../concepts/10-serializing.html">
            
                    
                    Serializing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11" data-path="../concepts/11-normalizing.html">
            
                <a href="../concepts/11-normalizing.html">
            
                    
                    Normalizing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12" data-path="../concepts/12-typescript.html">
            
                <a href="../concepts/12-typescript.html">
            
                    
                    TypeScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13" data-path="../concepts/xx-migrating.html">
            
                <a href="../concepts/xx-migrating.html">
            
                    
                    Migrating
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">API</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../api/transforms.html">
            
                <a href="../api/transforms.html">
            
                    
                    Transforms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../api/nodes/">
            
                <a href="../api/nodes/">
            
                    
                    Node Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="../api/nodes/editor.html">
            
                <a href="../api/nodes/editor.html">
            
                    
                    Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="../api/nodes/element.html">
            
                <a href="../api/nodes/element.html">
            
                    
                    Element
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.3" data-path="../api/nodes/node.html">
            
                <a href="../api/nodes/node.html">
            
                    
                    Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.4" data-path="../api/nodes/node-entry.html">
            
                <a href="../api/nodes/node-entry.html">
            
                    
                    NodeEntry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.5" data-path="../api/nodes/text.html">
            
                <a href="../api/nodes/text.html">
            
                    
                    Text
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../api/locations/">
            
                <a href="../api/locations/">
            
                    
                    Location Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="../api/locations/location.html">
            
                <a href="../api/locations/location.html">
            
                    
                    Location
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.2" data-path="../api/locations/path.html">
            
                <a href="../api/locations/path.html">
            
                    
                    Path
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.3" data-path="../api/locations/path-ref.html">
            
                <a href="../api/locations/path-ref.html">
            
                    
                    PathRef
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.4" data-path="../api/locations/point.html">
            
                <a href="../api/locations/point.html">
            
                    
                    Point
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.5" data-path="../api/locations/point-entry.html">
            
                <a href="../api/locations/point-entry.html">
            
                    
                    PointEntry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.6" data-path="../api/locations/point-ref.html">
            
                <a href="../api/locations/point-ref.html">
            
                    
                    PointRef
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.7" data-path="../api/locations/range.html">
            
                <a href="../api/locations/range.html">
            
                    
                    Range
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.8" data-path="../api/locations/range-ref.html">
            
                <a href="../api/locations/range-ref.html">
            
                    
                    RangeRef
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.9" data-path="../api/locations/span.html">
            
                <a href="../api/locations/span.html">
            
                    
                    Span
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../api/operation.html">
            
                <a href="../api/operation.html">
            
                    
                    Operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../api/scrubber.html">
            
                <a href="../api/scrubber.html">
            
                    
                    Scrubber
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Libraries</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../libraries/slate-react.html">
            
                <a href="../libraries/slate-react.html">
            
                    
                    Slate React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../libraries/slate-history.html">
            
                <a href="../libraries/slate-history.html">
            
                    
                    Slate History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../libraries/slate-hyperscript.html">
            
                <a href="../libraries/slate-hyperscript.html">
            
                    
                    Slate Hyperscript
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">General</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="resources.html">
            
                <a href="resources.html">
            
                    
                    Resources
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="6.2" data-path="contributing.html">
            
                <a href="contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="changelog.html">
            
                <a href="changelog.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="faq.html">
            
                <a href="faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            本书使用 HonKit 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Contributing</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="contributing">Contributing</h1>
<p>Want to contribute to Slate? That would be awesome!</p>
<ul>
<li><a href="contributing.html#contributing">Contributing</a><ul>
<li><a href="contributing.html#reporting-bugs">Reporting Bugs</a></li>
<li><a href="contributing.html#asking-questions">Asking Questions</a></li>
<li><a href="contributing.html#submitting-pull-requests">Submitting Pull Requests</a></li>
<li><a href="contributing.html#repository-setup">Repository Setup</a></li>
<li><a href="contributing.html#running-examples">Running Examples</a></li>
<li><a href="contributing.html#running-tests">Running Tests</a></li>
<li><a href="contributing.html#testing-input-methods">Testing Input Methods</a></li>
<li><a href="contributing.html#publishing-releases">Publishing Releases</a><ul>
<li><a href="contributing.html#publishing-normal-latest-release">Publishing Normal <code>@latest</code> Release</a></li>
<li><a href="contributing.html#publishing-next-release">Publishing <code>@next</code> Release</a></li>
<li><a href="contributing.html#publishing-experimental-release">Publishing <code>@experimental</code> Release</a></li>
<li><a href="contributing.html#running-prerelease-script">Running Prerelease Script</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="reporting-bugs">Reporting Bugs</h2>
<p>If you run into any weird behavior while using Slate, feel free to open a new issue in this repository! Please run a <strong>search before opening</strong> a new issue, to make sure that someone else hasn&apos;t already reported or solved the bug you&apos;ve found.</p>
<p>Any issue you open must include:</p>
<ul>
<li>A <a href="https://jsfiddle.net/01pLxfzu/" target="_blank">JSFiddle</a> that reproduces the bug with a minimal setup.</li>
<li>A GIF showing the issue in action. (Using something like <a href="http://recordit.co/" target="_blank">RecordIt</a>.)</li>
<li>A clear explanation of what the issue is.</li>
</ul>
<p>Here&apos;s a <a href="https://jsfiddle.net/01pLxfzu/" target="_blank">JSFiddle template for Slate</a> to get you started:</p>
<p><a href="https://jsfiddle.net/01pLxfzu/" target="_blank"><img src="../.gitbook/assets/jsfiddle.png" alt></a></p>
<h2 id="asking-questions">Asking Questions</h2>
<p>We&apos;ve also got a <a href="https://slate-slack.herokuapp.com" target="_blank">Slate Slack team</a> where you can ask questions and get answers from other people using Slate:</p>
<p><a href="https://slate-slack.herokuapp.com" target="_blank"><img src="../.gitbook/assets/slack.png" alt></a></p>
<p>Please use the Slack instead of asking questions in issues, since we want to reserve issues for keeping track of bugs and features. We close questions in issues so that maintaining the project isn&apos;t overwhelming.</p>
<h2 id="submitting-pull-requests">Submitting Pull Requests</h2>
<p>All pull requests are super welcomed and greatly appreciated! Issues in need of a solution are marked with a <a href="https://github.com/ianstormtaylor/slate/issues?q=is%3Aissue+is%3Aopen+label%3A%22%E2%99%A5+help%22" target="_blank"><code>♥ help</code></a> label if you&apos;re looking for somewhere to start.</p>
<p>Please include tests and docs with every pull request!</p>
<h2 id="repository-setup">Repository Setup</h2>
<p>The slate repository is a monorepo that is managed with <a href="https://github.com/lerna/lerna" target="_blank">lerna</a>. Unlike more traditional repositories, this means that the repository must be built in order for tests, linting, or other common development activities to function as expected.</p>
<p>To run the build, you need to have the Slate repository cloned to your computer. After that, you need to <code>cd</code> into the directory where you cloned it, and install the dependencies with <code>yarn</code> and build the monorepo:</p>
<pre><code class="lang-text">yarn install
yarn build
</code></pre>
<h2 id="running-examples">Running Examples</h2>
<p>To run the examples, start by building the monorepo as described in the <a href="contributing.html#repository-setup">Repository Setup</a> section.</p>
<p>Then you can start the examples server with:</p>
<pre><code class="lang-text">yarn start
</code></pre>
<h2 id="running-tests">Running Tests</h2>
<p>To run the tests, start by building the monorepo as described in the <a href="contributing.html#repository-setup">Repository Setup</a> section.</p>
<p>Then you can rerun the tests with:</p>
<pre><code class="lang-text">yarn test
</code></pre>
<p>If you need to debug something, you can add a <code>debugger</code> line to the source, and then run <code>yarn test:inspect</code>.</p>
<p>If you only want to run a specific test or tests, you can run <code>yarn test --fgrep=&quot;slate-react rendering&quot;</code> flag which will filter the tests being run by grepping for the string in each test. (This is a Mocha flag that gets passed through.)</p>
<p>In addition to tests you should also run the linter:</p>
<pre><code class="lang-text">yarn lint
</code></pre>
<p>This will catch TypeScript, Prettier, and Eslint errors.</p>
<pre><code class="lang-text">yarn fix
</code></pre>
<p>This will fix Prettier and Eslint errors.</p>
<h2 id="running-integration-tests">Running integration tests</h2>
<p>To run integrations with <a href="https://github.com/cypress-io/cypress" target="_blank">cypress</a>, first run <code>yarn start</code> to run the examples website, then run <code>yarn cypress:open</code> in a separate session to open the cypress GUI.</p>
<h2 id="testing-input-methods">Testing Input Methods</h2>
<p><a href="https://github.com/Microsoft/vscode/wiki/IME-Test" target="_blank">Here&apos;s a helpful page</a> detailing how to test various input scenarios on Windows, Mac and Linux.</p>
<h2 id="publishing-releases">Publishing Releases</h2>
<p><strong>Important</strong>: When creating releases using Lerna with the instructions below, you will be given choices around how to increase version numbers. You should always use a <code>major</code>, <code>minor</code> or <code>patch</code> release and must never use a <code>prerelease</code>. If a prerelease is used, the root package will not link to the packages in the <code>packages</code> directory creating hard to diagnose issues.</p>
<h3 id="publishing-normal-latest-release">Publishing Normal <code>@latest</code> Release</h3>
<p>Since we use <a href="https://lerna.js.org" target="_blank">Lerna</a> to manage the Slate packages this is fairly easy, just run:</p>
<pre><code class="lang-text">yarn release:latest
</code></pre>
<p>And follow the prompts Lerna gives you.</p>
<p>Note that this will automatically run the prelease script first that will build, test and lint before attempting to publish.</p>
<h3 id="publishing-next-release">Publishing <code>@next</code> Release</h3>
<p>If we are unsure as to the stability of a release because there are significant changes and/or particularly complex changes, release with the <code>@next</code> tag.</p>
<pre><code class="lang-text">yarn release:next
</code></pre>
<p>And follow the prompts Lerna gives you.</p>
<h3 id="publishing-experimental-release">Publishing <code>@experimental</code> Release</h3>
<p>If you need to create an experimental release to see how a published package will behave during an actual publish, release with the <code>@experimental</code> tag. End users should have no expectation that an <code>@experimental</code> release will be usable.</p>
<pre><code class="lang-text">yarn release:experimental
</code></pre>
<h3 id="running-prerelease-script">Running Prerelease Script</h3>
<p>If we want to make sure that Slate code follows the preparations for a release but without actually publishing, run:</p>
<pre><code class="lang-text">yarn prerelease
</code></pre>
<p>Which will build, test and lint Slate code.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="resources.html" class="navigation navigation-prev " aria-label="Previous page: Resources">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="changelog.html" class="navigation navigation-next " aria-label="Next page: Changelog">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Contributing","level":"6.2","depth":1,"next":{"title":"Changelog","level":"6.3","depth":1,"path":"general/changelog.md","ref":"general/changelog.md","articles":[]},"previous":{"title":"Resources","level":"6.1","depth":1,"path":"general/resources.md","ref":"general/resources.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"mowangjuanzi","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"Introduction.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Slate 中文文档","language":"zh-hans","gitbook":"*"},"file":{"path":"general/contributing.md","mtime":"2022-06-17T07:12:09.943Z","type":"markdown"},"gitbook":{"version":"3.7.3","time":"2022-06-17T07:12:14.559Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

