
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <title>Saving to a Database · Slate 中文文档</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 3.7.3">
        <meta name="author" content="mowangjuanzi">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="xx-using-the-bundled-source.html" />
    
    
    <link rel="prev" href="05-executing-commands.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    简介
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">演示</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="01-installing-slate.html">
            
                <a href="01-installing-slate.html">
            
                    
                    安装 Slate
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="02-adding-event-handlers.html">
            
                <a href="02-adding-event-handlers.html">
            
                    
                    添加事件处理程序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="03-defining-custom-elements.html">
            
                <a href="03-defining-custom-elements.html">
            
                    
                    Defining Custom Elements
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="04-applying-custom-formatting.html">
            
                <a href="04-applying-custom-formatting.html">
            
                    
                    Applying Custom Formatting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="05-executing-commands.html">
            
                <a href="05-executing-commands.html">
            
                    
                    Executing Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.6" data-path="06-saving-to-a-database.html">
            
                <a href="06-saving-to-a-database.html">
            
                    
                    Saving to a Database
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="xx-using-the-bundled-source.html">
            
                <a href="xx-using-the-bundled-source.html">
            
                    
                    Using the Bundled Source
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Concepts</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="../concepts/01-interfaces.html">
            
                <a href="../concepts/01-interfaces.html">
            
                    
                    Interfaces
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="../concepts/02-nodes.html">
            
                <a href="../concepts/02-nodes.html">
            
                    
                    Nodes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="../concepts/03-locations.html">
            
                <a href="../concepts/03-locations.html">
            
                    
                    Locations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="../concepts/04-transforms.html">
            
                <a href="../concepts/04-transforms.html">
            
                    
                    Transforms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.5" data-path="../concepts/05-operations.html">
            
                <a href="../concepts/05-operations.html">
            
                    
                    Operations
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.6" data-path="../concepts/06-commands.html">
            
                <a href="../concepts/06-commands.html">
            
                    
                    Commands
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.7" data-path="../concepts/07-editor.html">
            
                <a href="../concepts/07-editor.html">
            
                    
                    Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.8" data-path="../concepts/08-plugins.html">
            
                <a href="../concepts/08-plugins.html">
            
                    
                    Plugins
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.9" data-path="../concepts/09-rendering.html">
            
                <a href="../concepts/09-rendering.html">
            
                    
                    Rendering
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.10" data-path="../concepts/10-serializing.html">
            
                <a href="../concepts/10-serializing.html">
            
                    
                    Serializing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.11" data-path="../concepts/11-normalizing.html">
            
                <a href="../concepts/11-normalizing.html">
            
                    
                    Normalizing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.12" data-path="../concepts/12-typescript.html">
            
                <a href="../concepts/12-typescript.html">
            
                    
                    TypeScript
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.13" data-path="../concepts/xx-migrating.html">
            
                <a href="../concepts/xx-migrating.html">
            
                    
                    Migrating
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">API</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="../api/transforms.html">
            
                <a href="../api/transforms.html">
            
                    
                    Transforms
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="../api/nodes/">
            
                <a href="../api/nodes/">
            
                    
                    Node Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.2.1" data-path="../api/nodes/editor.html">
            
                <a href="../api/nodes/editor.html">
            
                    
                    Editor
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.2" data-path="../api/nodes/element.html">
            
                <a href="../api/nodes/element.html">
            
                    
                    Element
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.3" data-path="../api/nodes/node.html">
            
                <a href="../api/nodes/node.html">
            
                    
                    Node
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.4" data-path="../api/nodes/node-entry.html">
            
                <a href="../api/nodes/node-entry.html">
            
                    
                    NodeEntry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2.5" data-path="../api/nodes/text.html">
            
                <a href="../api/nodes/text.html">
            
                    
                    Text
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="../api/locations/">
            
                <a href="../api/locations/">
            
                    
                    Location Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="4.3.1" data-path="../api/locations/location.html">
            
                <a href="../api/locations/location.html">
            
                    
                    Location
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.2" data-path="../api/locations/path.html">
            
                <a href="../api/locations/path.html">
            
                    
                    Path
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.3" data-path="../api/locations/path-ref.html">
            
                <a href="../api/locations/path-ref.html">
            
                    
                    PathRef
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.4" data-path="../api/locations/point.html">
            
                <a href="../api/locations/point.html">
            
                    
                    Point
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.5" data-path="../api/locations/point-entry.html">
            
                <a href="../api/locations/point-entry.html">
            
                    
                    PointEntry
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.6" data-path="../api/locations/point-ref.html">
            
                <a href="../api/locations/point-ref.html">
            
                    
                    PointRef
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.7" data-path="../api/locations/range.html">
            
                <a href="../api/locations/range.html">
            
                    
                    Range
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.8" data-path="../api/locations/range-ref.html">
            
                <a href="../api/locations/range-ref.html">
            
                    
                    RangeRef
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3.9" data-path="../api/locations/span.html">
            
                <a href="../api/locations/span.html">
            
                    
                    Span
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="../api/operation.html">
            
                <a href="../api/operation.html">
            
                    
                    Operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.5" data-path="../api/scrubber.html">
            
                <a href="../api/scrubber.html">
            
                    
                    Scrubber
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Libraries</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../libraries/slate-react.html">
            
                <a href="../libraries/slate-react.html">
            
                    
                    Slate React
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../libraries/slate-history.html">
            
                <a href="../libraries/slate-history.html">
            
                    
                    Slate History
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../libraries/slate-hyperscript.html">
            
                <a href="../libraries/slate-hyperscript.html">
            
                    
                    Slate Hyperscript
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">General</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../general/resources.html">
            
                <a href="../general/resources.html">
            
                    
                    Resources
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../general/contributing.html">
            
                <a href="../general/contributing.html">
            
                    
                    Contributing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../general/changelog.html">
            
                <a href="../general/changelog.html">
            
                    
                    Changelog
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../general/faq.html">
            
                <a href="../general/faq.html">
            
                    
                    FAQ
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            本书使用 HonKit 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Saving to a Database</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="saving-to-a-database">Saving to a Database</h1>
<p>Now that you&apos;ve learned the basics of how to add functionality to the Slate editor, you might be wondering how you&apos;d go about saving the content you&apos;ve been editing, such that you can come back to your app later and have it load.</p>
<p>In this guide, we&apos;ll show you how to add logic to save your Slate content to a database for storage and retrieval later.</p>
<p>Let&apos;s start with a basic editor:</p>
<pre><code class="lang-jsx"><span class="hljs-keyword">const</span> initialValue = [
  {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&apos;paragraph&apos;</span>,
    <span class="hljs-attr">children</span>: [{ <span class="hljs-attr">text</span>: <span class="hljs-string">&apos;A line of text in a paragraph.&apos;</span> }],
  },
]

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> editor = useMemo(<span class="hljs-function">() =&gt;</span> withReact(createEditor()), [])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Slate</span> <span class="hljs-attr">editor</span>=<span class="hljs-string">{editor}</span> <span class="hljs-attr">value</span>=<span class="hljs-string">{initialValue}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Editable</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Slate</span>&gt;</span></span>
  )
}
</code></pre>
<p>That will render a basic Slate editor on your page, and when you type things will change. But if you refresh the page, everything will be reverted back to its original value—nothing saves!</p>
<p>What we need to do is save the changes you make somewhere. For this example, we&apos;ll just be using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage" target="_blank">Local Storage</a>, but it will give you an idea for where you&apos;d need to add your own database hooks.</p>
<p>So, in our <code>onChange</code> handler, we need to save the <code>value</code> if anything besides the selection was changed:</p>
<pre><code class="lang-jsx"><span class="hljs-keyword">const</span> initialValue = [
  {
    <span class="hljs-attr">type</span>: <span class="hljs-string">&apos;paragraph&apos;</span>,
    <span class="hljs-attr">children</span>: [{ <span class="hljs-attr">text</span>: <span class="hljs-string">&apos;A line of text in a paragraph.&apos;</span> }],
  },
]

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> editor = useMemo(<span class="hljs-function">() =&gt;</span> withReact(createEditor()), [])

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Slate</span>
      <span class="hljs-attr">editor</span>=<span class="hljs-string">{editor}</span>
      <span class="hljs-attr">value</span>=<span class="hljs-string">{initialValue}</span>
      <span class="hljs-attr">onChange</span>=<span class="hljs-string">{value</span> =&gt;</span> {
        const isAstChange = editor.operations.some(
          op =&gt; &apos;set_selection&apos; !== op.type
        )
        if (isAstChange) {
          // Save the value to Local Storage.
          const content = JSON.stringify(value)
          localStorage.setItem(&apos;content&apos;, content)
        }
      }}
    &gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">Editable</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Slate</span>&gt;</span></span>
  )
}
</code></pre>
<p>Now whenever you edit the page, if you look in Local Storage, you should see the <code>content</code> value changing.</p>
<p>But... if you refresh the page, everything is still reset. That&apos;s because we need to make sure the initial value is pulled from that same Local Storage location, like so:</p>
<pre><code class="lang-jsx"><span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> editor = useMemo(<span class="hljs-function">() =&gt;</span> withReact(createEditor()), [])
  <span class="hljs-comment">// Update the initial content to be pulled from Local Storage if it exists.</span>
  <span class="hljs-keyword">const</span> initialValue = useMemo(
    <span class="hljs-function">() =&gt;</span>
      <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">localStorage</span>.getItem(<span class="hljs-string">&apos;content&apos;</span>)) || [
        {
          <span class="hljs-attr">type</span>: <span class="hljs-string">&apos;paragraph&apos;</span>,
          <span class="hljs-attr">children</span>: [{ <span class="hljs-attr">text</span>: <span class="hljs-string">&apos;A line of text in a paragraph.&apos;</span> }],
        },
      ],
    []
  )

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Slate</span>
      <span class="hljs-attr">editor</span>=<span class="hljs-string">{editor}</span>
      <span class="hljs-attr">value</span>=<span class="hljs-string">{initialValue}</span>
      <span class="hljs-attr">onChange</span>=<span class="hljs-string">{value</span> =&gt;</span> {
        const isAstChange = editor.operations.some(
          op =&gt; &apos;set_selection&apos; !== op.type
        )
        if (isAstChange) {
          // Save the value to Local Storage.
          const content = JSON.stringify(value)
          localStorage.setItem(&apos;content&apos;, content)
        }
      }}
    &gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">Editable</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Slate</span>&gt;</span></span>
  )
}
</code></pre>
<p>Now you should be able to save changes across refreshes!</p>
<p>Success—you&apos;ve got JSON in your database.</p>
<p>But what if you want something other than JSON? Well, you&apos;d need to serialize your value differently. For example, if you want to save your content as plain text instead of JSON, we can write some logic to serialize and deserialize plain text values:</p>
<pre><code class="lang-jsx"><span class="hljs-comment">// Import the `Node` helper interface from Slate.</span>
<span class="hljs-keyword">import</span> { Node } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;slate&apos;</span>

<span class="hljs-comment">// Define a serializing function that takes a value and returns a string.</span>
<span class="hljs-keyword">const</span> serialize = <span class="hljs-function"><span class="hljs-params">value</span> =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    value
      <span class="hljs-comment">// Return the string content of each paragraph in the value&apos;s children.</span>
      .map(<span class="hljs-function"><span class="hljs-params">n</span> =&gt;</span> Node.string(n))
      <span class="hljs-comment">// Join them all with line breaks denoting paragraphs.</span>
      .join(<span class="hljs-string">&apos;\n&apos;</span>)
  )
}

<span class="hljs-comment">// Define a deserializing function that takes a string and returns a value.</span>
<span class="hljs-keyword">const</span> deserialize = <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> {
  <span class="hljs-comment">// Return a value array of children derived by splitting the string.</span>
  <span class="hljs-keyword">return</span> string.split(<span class="hljs-string">&apos;\n&apos;</span>).map(<span class="hljs-function"><span class="hljs-params">line</span> =&gt;</span> {
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">children</span>: [{ <span class="hljs-attr">text</span>: line }],
    }
  })
}

<span class="hljs-keyword">const</span> App = <span class="hljs-function">() =&gt;</span> {
  <span class="hljs-keyword">const</span> editor = useMemo(<span class="hljs-function">() =&gt;</span> withReact(createEditor()), [])
  <span class="hljs-comment">// Use our deserializing function to read the data from Local Storage.</span>
  <span class="hljs-keyword">const</span> initialValue = useMemo(
    deserialize(<span class="hljs-built_in">localStorage</span>.getItem(<span class="hljs-string">&apos;content&apos;</span>)) || <span class="hljs-string">&apos;&apos;</span>,
    []
  )

  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Slate</span>
      <span class="hljs-attr">editor</span>=<span class="hljs-string">{editor}</span>
      <span class="hljs-attr">value</span>=<span class="hljs-string">{initialValue}</span>
      <span class="hljs-attr">onChange</span>=<span class="hljs-string">{value</span> =&gt;</span> {
        const isAstChange = editor.operations.some(
          op =&gt; &apos;set_selection&apos; !== op.type
        )
        if (isAstChange) {
          // Serialize the value and save the string value to Local Storage.
          localStorage.setItem(&apos;content&apos;, serialize(value))
        }
      }}
    &gt;
      <span class="hljs-tag">&lt;<span class="hljs-name">Editable</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Slate</span>&gt;</span></span>
  )
}
</code></pre>
<p>That works! Now you&apos;re working with plain text.</p>
<p>You can emulate this strategy for any format you like. You can serialize to HTML, to Markdown, or even to your own custom JSON format that is tailored to your use case.</p>
<blockquote>
<p>🤖 Note that even though you <em>can</em> serialize your content however you like, there are tradeoffs. The serialization process has a cost itself, and certain formats may be harder to work with than others. In general we recommend writing your own format only if your use case has a specific need for it. Otherwise, you&apos;re often better leaving the data in the format Slate uses.</p>
</blockquote>
<p>If you want to update the editor&apos;s content in response to events from outside of slate, you need to change the children property directly. The simplest way is to replace the value of editor.children <code>editor.children = newValue</code> and trigger a re-rendering (e.g. by calling <code>editor.onChange()</code> in the example above). Alternatively, you can use slate&apos;s internal operations to transform the value, for example:</p>
<pre><code class="lang-javascript">  <span class="hljs-comment">/**
  * resetNodes resets the value of the editor.
  * It should be noted that passing the `at` parameter may cause a &quot;Cannot resolve a DOM point from Slate point&quot; error.
  */</span>
  resetNodes&lt;T <span class="hljs-keyword">extends</span> Node&gt;(
    editor: Editor,
    <span class="hljs-attr">options</span>: {
      nodes?: Node | Node[],
      at?: Location
    } = {}
  ): <span class="hljs-keyword">void</span> {
    <span class="hljs-keyword">const</span> children = [...editor.children]

    children.forEach(<span class="hljs-function">(<span class="hljs-params">node</span>) =&gt;</span> editor.apply({ <span class="hljs-attr">type</span>: <span class="hljs-string">&apos;remove_node&apos;</span>, <span class="hljs-attr">path</span>: [<span class="hljs-number">0</span>], node }))

    <span class="hljs-keyword">if</span> (options.nodes) {
      <span class="hljs-keyword">const</span> nodes = Node.isNode(options.nodes) ? [options.nodes] : options.nodes

      nodes.forEach(<span class="hljs-function">(<span class="hljs-params">node, i</span>) =&gt;</span> editor.apply({ <span class="hljs-attr">type</span>: <span class="hljs-string">&apos;insert_node&apos;</span>, <span class="hljs-attr">path</span>: [i], <span class="hljs-attr">node</span>: node }))
    }

    <span class="hljs-keyword">const</span> point = options.at &amp;&amp; Point.isPoint(options.at)
      ? options.at
      : Editor.end(editor, [])

    <span class="hljs-keyword">if</span> (point) {
      Transforms.select(editor, point)
    }
  }
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="05-executing-commands.html" class="navigation navigation-prev " aria-label="Previous page: Executing Commands">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="xx-using-the-bundled-source.html" class="navigation navigation-next " aria-label="Next page: Using the Bundled Source">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Saving to a Database","level":"2.6","depth":1,"next":{"title":"Using the Bundled Source","level":"2.7","depth":1,"path":"walkthroughs/xx-using-the-bundled-source.md","ref":"walkthroughs/xx-using-the-bundled-source.md","articles":[]},"previous":{"title":"Executing Commands","level":"2.5","depth":1,"path":"walkthroughs/05-executing-commands.md","ref":"walkthroughs/05-executing-commands.md","articles":[]},"dir":"ltr"},"config":{"plugins":[],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"theme":"default","author":"mowangjuanzi","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"structure":{"langs":"LANGS.md","readme":"Introduction.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"Slate 中文文档","language":"zh-hans","gitbook":"*"},"file":{"path":"walkthroughs/06-saving-to-a-database.md","mtime":"2022-06-08T09:49:12.481Z","type":"markdown"},"gitbook":{"version":"3.7.3","time":"2022-06-08T09:49:19.054Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

